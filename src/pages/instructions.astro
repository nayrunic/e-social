---
import Layout from "@/layouts/Layout.astro"
import Arrow from '@/assets/icons/arrow.svg'
import Footer from "@/components/Footer.astro"
---

<Layout title="Instrucciones">
    <div class="w-full">
        
        <header class="text-2xl sm:text-3xl font-bold text-center bg-sky-700 text-white p-4">Instrucciones - Parte 01</header>
        
        <main class="bg-white flex flex-col justify-center items-center p-8 sm:px-[20%]">
            <div class="container sm:max-w-[900px] h-full p-5 flex flex-col gap-4 items-center">
                <h2>Objetivo general</h2>
                <p>
                    El objetivo general del estudio es reaccionar a una serie de estimulos visuales mediante la herramienta desarrollada. 
                    Para esto, deberá realizar las 2 siguientes acciones principales:
                </p>
                <p>
                    <em><b>Reaccionar</b></em> y <em><b>Deslizar</b></em>. 
                    A continuación verá una breve explicación de como utlizar la herramienta interactiva.
                </p>
                <h2>Reaccionar</h2>  
                <p>
                    Una de las 2 acciones principales de la herramienta es la barra de reacciones, de acuerdo al estimulo visual, deberá
                    seleccionar la opción que mas se acerque a la emoción que le transmita la imagen.
                </p>
                <picture class="my-4 mx-auto">
                    <img src="reaction-bar.gif" alt="reaction-bar" />
                </picture>
                <h2>Deslizar</h2>
                <p>
                    La siguiente acción es la de deslizar. Después de haber seleccionado una emoción de la barra de reacciones deberá hacer clic
                    encima de la imagen y arrastrarla (mover el mouse) hacia la izquierda si no le gustó o la derecha si le gustó el estimulo visual presente.
                </p>
                <picture class="my-4 mx-auto">
                    <img src="swipe.gif" alt="swipe" />
                </picture>
                <p>
                    En dado caso que encuentre confusa la acción de deslizar, también podrá hacer clic en los respectivos botones de me gusta y no me gusta
                </p>
                <picture class="my-4 mx-auto">
                    <img src="liking.png" alt="liking" />
                </picture>
                <p>Recuerde que debe seleccionar primero una emoción de la barra de reacciones antes de realizar la acción de deslizar o no
                    podra avanzar a la siguiente imagen. En caso de que lo olvide, aparecerá un mensaje al intentar deslizar para recordarle
                    la acción faltante.
                </p>
                <picture class="my-4 mx-auto w-64 h-64">
                    <img src="error.png" alt="error" />
                </picture>
                <h2>Progreso</h2>
                <p>
                    En la sección derecha de la página podrá ver su progreso y los estimulos visuales restantes.
                    Cada vez que complete uno de los estimulos podrá ver su avance reflejado en la sección de progreso.
                </p>
                <picture>
                    <img class="my-4 mx-auto w-64 h-80" src="progress.png" alt="progress" />
                </picture>
                Ya estas listo para empezar a utilizar la herramienta interactiva, da clic en el siguiente botón.
                <a class="w-52 p-4 rounded-3xl cursor-pointer block bg-sky-300 text-white text-center uppercase 
                            font-semibold duration-500 hover:bg-sky-700" href="/feed">Ir a la herramienta</a>
            </div>
        </main>
        <Footer />
        
        <button class=" cursor-default rounded-full bg-white shadow-md shadow-black text-gray-800 h-12 w-12 fixed bottom-0 right-5 m-5 text-center animate-bounce flex items-center justify-center hover:scale-110">
            <img id="img-arrow" class="rotate-180" src={Arrow.src}/>
        </button>
    </div>
</Layout>

<style>
    .bg-blur{
		background-color: transparent;
		backdrop-filter: blur(5px);
	}
    .bg-policy{
        background-image: url("home2.jpg");
    }
    p{
        font-size: 1rem;
        line-height: 1.5rem;
        text-wrap: pretty;
    }
    h2{
        text-wrap: balance;
        font-size: 1.125rem;
        line-height: 1.75rem;  
        font-weight: 800;
    }
    i{
        font-weight: 600;
    }
</style>

<script>

    const obj = window;
    const arrow = document.getElementById("img-arrow");
    const button = arrow!.parentElement as HTMLButtonElement;

    
    button?.addEventListener("click", () => {
        window.scrollTo(0,0);
    })

    obj!.onscroll = (e) => {
        console.log(document.body.offsetHeight)
        if(!arrow) return;
        if(obj.innerHeight + obj.scrollY < document.body.offsetHeight) {
            arrow.classList.remove("rotate-180");
            arrow.parentElement!.classList.remove("animate-bounce");
            arrow.parentElement!.classList.remove("cursor-default");
            button.disabled = false;
        }else{
            button.disabled = true;
            arrow.classList.add("rotate-180");
            arrow.parentElement!.classList.add("animate-bounce");
            arrow.parentElement!.classList.add("cursor-default");        }
    }
</script>